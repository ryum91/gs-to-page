(this["webpackJsonpgs-to-page"]=this["webpackJsonpgs-to-page"]||[]).push([[0],{152:function(e,t){},291:function(e,t,n){},302:function(e,t){},304:function(e,t){},346:function(e,t){},348:function(e,t){},380:function(e,t){},381:function(e,t){},386:function(e,t){},388:function(e,t){},395:function(e,t){},414:function(e,t){},479:function(e,t,n){},547:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(41),o=n.n(a),i=(n(291),n(1)),s=n(25),u=n(108),l=n(3),j=n(16),b=n.n(j),O=n(280),d=n(555),f=n(554),h=n(551),x=n(552),w=n(556),p=n(557),m=n(109),g=n.n(m),v=n(553),k=n(283),C=n(8),S=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(l.a)(a,2),i=o[0],s=o[1],u=Object(c.useState)(""),j=Object(l.a)(u,2),b=j[0],O=j[1],d=Object(c.useCallback)((function(e,t){try{O("".concat(window.location.href,"?id=").concat(e,"&key=").concat(t)),window.alert("\uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(n){window.alert("\uac12\uc774 \uc785\ub825\ub418\uc9c0 \uc54a\uc558\uac70\ub098, \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}}),[]);return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("div",{className:"header",children:Object(C.jsx)("h1",{children:"Google SpreadSheet \ud398\uc774\uc9c0 \ub9cc\ub4e4\uae30"})}),Object(C.jsxs)("div",{className:"contents",children:[Object(C.jsx)(v.a,{value:n,onChange:function(e){return r(e.target.value)},placeholder:"Google SpreadSheet ID"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(v.a,{value:i,onChange:function(e){return s(e.target.value)},placeholder:"API Key"}),Object(C.jsx)("br",{}),"\ud0a4 \ubc1c\uae09:"," ",Object(C.jsx)("a",{href:"https://console.cloud.google.com/apis/credentials",children:"Google Cloud Platform"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(k.a,{style:{width:"100%"},onClick:function(){return d(n,i)},children:"\uc0dd\uc131"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),!!b&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(k.a,{onClick:function(){g()(b),window.alert("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},children:"\ubcf5\uc0ac"})," ",Object(C.jsx)(k.a,{onClick:function(){return window.location.href=b},children:"\uc774\ub3d9\ud558\uae30"})]})]})]})},y=(n(479),new URLSearchParams(window.location.search)),N=y.get("key"),I=y.get("id"),E=["red","gold","green","blue","purple","magenta","orange","lime","cyan","volcano","geekblue"];var G=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),o=Object(l.a)(a,2),j=o[0],m=o[1],v=Object(c.useState)([]),k=Object(l.a)(v,2),y=k[0],G=k[1],M=Object(c.useState)([]),K=Object(l.a)(M,2),P=K[0],A=K[1],B=Object(c.useCallback)(Object(u.a)(b.a.mark((function e(){var t,n,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return");case 2:if(N){e.next=4;break}return e.abrupt("return");case 4:return(t=new O.GoogleSpreadsheet(I)).useApiKey(N),e.next=8,t.loadInfo();case 8:return document.title=t.title,r(t.title),n=t.sheetsByIndex[0],e.next=13,n.getRows();case 13:c=e.sent,a=n.headerValues,m(a),G(c.map((function(e){var t={};return a.forEach((function(n){t[n]=e[n]})),t})));case 17:case"end":return e.stop()}}),e)}))),[]);Object(c.useLayoutEffect)((function(){B().catch((function(e){window.alert("ID\ub098 KEY\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ud655\uc778\ud574\uc8fc\uc138\uc694."),window.location.href="".concat(window.location.origin).concat(window.location.pathname)}))}),[B]);var D=Object(c.useMemo)((function(){return j.filter((function(e){return""!==e&&"name"!==e&&"link"!==e}))}),[j]),J=Object(c.useMemo)((function(){return D.reduce((function(e,t,n){return e[t]=E[n],e}),{})}),[D]),L=Object(c.useCallback)((function(e,t){P.some((function(n){var c=Object(l.a)(Object.entries(n)[0],2),r=c[0],a=c[1];return r===e&&a===t}))||A([].concat(Object(s.a)(P),[Object(i.a)({},e,t)]))}),[P]),R=Object(c.useCallback)((function(e,t){A(P.filter((function(n){var c=Object(l.a)(Object.entries(n)[0],2),r=c[0],a=c[1];return!(r===e&&a===t)})))}),[P]),z=Object(c.useMemo)((function(){return P.length?y.filter((function(e){return P.every((function(t){var n=Object(l.a)(Object.entries(t)[0],2),c=n[0],r=n[1];return e[c]===r}))})):y}),[y,P]);return I&&N?Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("div",{className:"header",children:Object(C.jsx)("h1",{children:n})}),Object(C.jsx)("div",{className:"filters",children:Object(C.jsxs)(d.b,{wrap:!0,children:[!!P.length&&Object(C.jsx)("br",{}),P.map((function(e){var t=Object(l.a)(Object.entries(e)[0],2),n=t[0],c=t[1];return Object(C.jsx)(f.a,{closable:!0,color:J[n],onClose:function(){return R(n,c)},children:c},"".concat(n,"-").concat(c))}))]})}),Object(C.jsx)(h.a,{}),Object(C.jsx)("div",{className:"contents",children:Object(C.jsx)(d.b,{align:"center",wrap:!0,children:z.map((function(e,t){return Object(C.jsx)(x.a,{title:e.name,size:"small",actions:[Object(C.jsx)(w.a,{onClick:function(){window.location.href=e.link}},"\uc774\ub3d9"),Object(C.jsx)(p.a,{onClick:function(){g()(e.link),window.alert("\ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\n".concat(e.link))}},"\ubcf5\uc0ac")],children:Object.keys(e).filter((function(t){return""!==t&&"name"!==t&&"link"!==t&&void 0!==e[t]})).map((function(t){return Object(C.jsx)("p",{children:Object(C.jsx)(f.a,{style:{cursor:"pointer"},color:J[t],onClick:function(){return L(t,e[t])},children:e[t]})},t)}))},t)}))})})]}):Object(C.jsx)(S,{})};o.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(G,{})}),document.getElementById("root"))}},[[547,1,2]]]);
//# sourceMappingURL=main.55496512.chunk.js.map