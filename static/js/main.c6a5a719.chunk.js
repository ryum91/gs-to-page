(this["webpackJsonpgs-to-page"]=this["webpackJsonpgs-to-page"]||[]).push([[0],{152:function(e,t){},291:function(e,t,n){},302:function(e,t){},304:function(e,t){},346:function(e,t){},348:function(e,t){},380:function(e,t){},381:function(e,t){},386:function(e,t){},388:function(e,t){},395:function(e,t){},414:function(e,t){},479:function(e,t,n){},547:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),o=n(41),i=n.n(o),s=(n(291),n(1)),l=n(25),u=n(108),j=n(3),b=n(16),O=n.n(b),d=n(280),f=n(555),h=n(554),x=n(551),w=n(552),p=n(556),m=n(557),g=n(109),v=n.n(g),k=n(553),C=n(283),S=n(8),y=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),o=Object(j.a)(a,2),i=o[0],s=o[1],l=Object(r.useState)(""),u=Object(j.a)(l,2),b=u[0],O=u[1],d=Object(r.useCallback)((function(e,t){try{O("".concat(window.location.href,"?id=").concat(e).concat(t&&"&key=".concat(t))),window.alert("\uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(n){window.alert("\uac12\uc774 \uc785\ub825\ub418\uc9c0 \uc54a\uc558\uac70\ub098, \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}}),[]);return Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("div",{className:"header",children:Object(S.jsx)("h1",{children:"Google SpreadSheet \ud398\uc774\uc9c0 \ub9cc\ub4e4\uae30"})}),Object(S.jsxs)("div",{className:"contents",children:[Object(S.jsx)(k.a,{value:n,onChange:function(e){return c(e.target.value)},placeholder:"Google SpreadSheet ID"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(k.a,{value:i,onChange:function(e){return s(e.target.value)},placeholder:"API Key (Optional)"}),Object(S.jsx)("br",{}),"\ud0a4 \ubc1c\uae09:"," ",Object(S.jsx)("a",{href:"https://console.cloud.google.com/apis/credentials",children:"Google Cloud Platform"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(C.a,{style:{width:"100%"},onClick:function(){return d(n,i)},children:"\uc0dd\uc131"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),!!b&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C.a,{onClick:function(){v()(b),window.alert("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},children:"\ubcf5\uc0ac"})," ",Object(S.jsx)(C.a,{onClick:function(){return window.location.href=b},children:"\uc774\ub3d9\ud558\uae30"})]})]})]})},I=(n(479),new URLSearchParams(window.location.search)),N=null!==(c=I.get("key"))&&void 0!==c?c:"AIzaSyCVFJD2CdbZlE6TxlYvVWFMe3OXX03AKBE",E=I.get("id"),M=["red","gold","green","blue","purple","magenta","orange","lime","cyan","volcano","geekblue"];var A=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),o=Object(j.a)(a,2),i=o[0],b=o[1],g=Object(r.useState)([]),k=Object(j.a)(g,2),C=k[0],I=k[1],A=Object(r.useState)([]),G=Object(j.a)(A,2),K=G[0],B=G[1],D=Object(r.useCallback)(Object(u.a)(O.a.mark((function e(){var t,n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return(t=new d.GoogleSpreadsheet(E)).useApiKey(N),e.next=6,t.loadInfo();case 6:return document.title=t.title,c(t.title),n=t.sheetsByIndex[0],e.next=11,n.getRows();case 11:r=e.sent,a=n.headerValues,b(a),I(r.map((function(e){var t={};return a.forEach((function(n){t[n]=e[n]})),t})));case 15:case"end":return e.stop()}}),e)}))),[]);Object(r.useLayoutEffect)((function(){D().catch((function(e){window.alert("ID\ub098 KEY\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694."),window.location.href="".concat(window.location.origin).concat(window.location.pathname)}))}),[D]);var F=Object(r.useMemo)((function(){return i.filter((function(e){return""!==e&&"name"!==e&&"link"!==e}))}),[i]),J=Object(r.useMemo)((function(){return F.reduce((function(e,t,n){return e[t]=M[n],e}),{})}),[F]),P=Object(r.useCallback)((function(e,t){K.some((function(n){var c=Object(j.a)(Object.entries(n)[0],2),r=c[0],a=c[1];return r===e&&a===t}))||B([].concat(Object(l.a)(K),[Object(s.a)({},e,t)]))}),[K]),V=Object(r.useCallback)((function(e,t){B(K.filter((function(n){var c=Object(j.a)(Object.entries(n)[0],2),r=c[0],a=c[1];return!(r===e&&a===t)})))}),[K]),z=Object(r.useMemo)((function(){return K.length?C.filter((function(e){return K.every((function(t){var n=Object(j.a)(Object.entries(t)[0],2),c=n[0],r=n[1];return e[c]===r}))})):C}),[C,K]);return E&&N?Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("div",{className:"header",children:Object(S.jsx)("h1",{children:n})}),Object(S.jsx)("div",{className:"filters",children:Object(S.jsxs)(f.b,{wrap:!0,children:[!!K.length&&Object(S.jsx)("br",{}),K.map((function(e){var t=Object(j.a)(Object.entries(e)[0],2),n=t[0],c=t[1];return Object(S.jsx)(h.a,{closable:!0,color:J[n],onClose:function(){return V(n,c)},children:c},"".concat(n,"-").concat(c))}))]})}),Object(S.jsx)(x.a,{}),Object(S.jsx)("div",{className:"contents",children:Object(S.jsx)(f.b,{align:"center",wrap:!0,children:z.map((function(e,t){return Object(S.jsx)(w.a,{title:e.name,size:"small",actions:[Object(S.jsx)(p.a,{onClick:function(){window.location.href=e.link}},"\uc774\ub3d9"),Object(S.jsx)(m.a,{onClick:function(){v()(e.link),window.alert("\ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\n".concat(e.link))}},"\ubcf5\uc0ac")],children:Object.keys(e).filter((function(t){return""!==t&&"name"!==t&&"link"!==t&&void 0!==e[t]})).map((function(t){return Object(S.jsx)("p",{children:Object(S.jsx)(h.a,{style:{cursor:"pointer"},color:J[t],onClick:function(){return P(t,e[t])},children:e[t]})},t)}))},t)}))})})]}):Object(S.jsx)(y,{})};i.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(A,{})}),document.getElementById("root"))}},[[547,1,2]]]);
//# sourceMappingURL=main.c6a5a719.chunk.js.map